(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[53],{939:function(e,t,n){"use strict";n.r(t);var c=n(26),i=n(1),s=n(0),a=n(2),r=n(499),o=n(500),l=n(561),u=n(550),d=n(562),j=n(514),b=n(416),m=n(417),f=n(359),O=n(472),h=n(458),v=n(459),x=n(412),g=n(899),p=n(894),_=n(928),w=n(944),N=n(94),S=n(372),y=n(108),q=n(382),C=n.n(q),E=n(383),k=n.n(E),z=function(e){return[Math.floor(e/864e5),Math.floor(e%864e5/36e5),Math.floor(e%36e5/6e4),Math.floor(e%6e4/1e3)]},M=function(e){var t=function(e){var t=new Date(e).getTime(),n=Object(i.useState)(t-(new Date).getTime()),s=Object(c.a)(n,2),a=s[0],r=s[1];return Object(i.useEffect)((function(){var e=setInterval((function(){r(t-(new Date).getTime())}),1e3);return function(){return clearInterval(e)}}),[t]),z(a)}(e.targetDate),n=Object(c.a)(t,4),s=n[0],a=n[1],r=n[2],o=n[3];return s+a+r+o<=0?"00:00":"".concat(r>9?r:"0"+r,":").concat(o>9?o:"0"+o)},D=n(12),R=k()(C.a);var I=function(e){var t,n,q,C,E=e.fontInc,k=e.fontReset,z=e.fontDec,I=Object(S.g)(),B=Object(N.c)((function(e){return e.exam})),T=B.examData,F=B.currentSelectedQuestion,A=B.currentSelectedSubject,Q=B.questionByID,Y=B.currentActiveSection,L=B.deadLineExam,P=B.startedTimer,V=B.localiazedQuestions,J=Object(N.c)((function(e){return e.instructions})).instructionsData,K=Object(N.b)(),U=Object(i.useState)(0),Z=Object(c.a)(U,2),G=Z[0],H=Z[1],W=Object(i.useState)(!1),X=Object(c.a)(W,2),$=X[0],ee=X[1],te=function(){return ee(!$)},ne=Object(i.useMemo)((function(){var e;return null===T||void 0===T||null===(e=T.questionnaire)||void 0===e?void 0:e.filter((function(e){return"English"===e.subject_name}))}),[T]),ce=Object(i.useMemo)((function(){var e;return null===T||void 0===T||null===(e=T.questionnaire)||void 0===e?void 0:e.filter((function(e){return"Maths"===e.subject_name}))}),[T]),ie=Object(i.useMemo)((function(){var e;return null===T||void 0===T||null===(e=T.questionnaire)||void 0===e?void 0:e.filter((function(e){return"Science"===e.subject_name}))}),[T]),se=Object(i.useMemo)((function(){var e;return null===T||void 0===T||null===(e=T.questionnaire)||void 0===e?void 0:e.filter((function(e){return"Reading"===e.subject_name}))}),[T]);Object(i.useEffect)((function(){if(P){var e=60*L*1e3,t=(new Date).getTime();H(t+e)}else if("Break-15min"===Y){var n=(new Date).getTime();H(n+9e5)}else{var c=(new Date).getTime();H(c+0)}}),[P,L,Y]);var ae=Object(i.useMemo)((function(){var e,t;return null===J||void 0===J||null===(e=J.findAllInstruction)||void 0===e||null===(t=e.filter((function(e){return e.subject_name===Y}))[0])||void 0===t?void 0:t.time_duration}),[J,Y]);Object(i.useEffect)((function(){P||0===F||(K(Object(y.n)(ae)),K(Object(y.o)(!0)))}),[F,P]),Object(i.useEffect)((function(){K(Object(y.b)())}),[K]);var re=function(){var e=Object(a.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, End the Section !",customClass:{confirmButton:"btn text-white main-color-btn",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then(function(){var e=Object(a.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.value&&(R.fire({icon:"success",title:"End Section!",text:"Your Section has been Ended.",customClass:{confirmButton:"btn btn-success"}}),K(Object(y.f)(A)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(a.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, End the Session !",customClass:{confirmButton:"btn text-white main-color-btn",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then(function(){var e=Object(a.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.value&&(R.fire({icon:"success",title:"End Session!",text:"Your Session has been Ended.",customClass:{confirmButton:"btn btn-success"}}),K(Object(y.d)({type:"end",Temp_Quiz_Data:V})),I.push("/student/results"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)("div",{children:Object(D.jsxs)("div",{className:"bg-dark text-light test-footer-bar main-test-header",children:[Object(D.jsxs)(b.a,{horizontal:!0,children:[Object(D.jsx)(m.a,{disabled:F<=1,children:Object(D.jsxs)(f.a.Ripple,{outline:!0,className:"round",color:"secondary text-white",size:"sm",onClick:function(e){if(e.preventDefault(),F>1){K(Object(y.l)());var t="question_number=".concat(Q.question_number-1,"&subject_name=").concat(Q.subject_name);K(Object(y.c)(t))}},children:[Object(D.jsx)(r.a,{size:16}),Object(D.jsx)("span",{className:"align-middle ms-25",children:"Previous"})]})}),Object(D.jsxs)(m.a,{children:[Object(D.jsx)(f.a.Ripple,{outline:!0,className:"round",color:"secondary text-white",size:"sm",onClick:te,children:Object(D.jsx)("span",{className:"align-middle ms-25",children:"Nav"})}),Object(D.jsxs)(O.a,{isOpen:$,toggle:te,className:"modal-dialog-centered modal-lg",children:[Object(D.jsx)(h.a,{className:"bg-transparent",toggle:te,children:"ITEM NAVIGATION"}),Object(D.jsx)(v.a,{className:"instruction-modal-body",children:Object(D.jsxs)(x.a,{children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{scope:"col",className:"text-nowrap",children:"#"}),Object(D.jsx)("th",{scope:"col",className:"text-nowrap",children:"Flagged"})]})}),(null===T||void 0===T||null===(t=T.subjectsCount)||void 0===t?void 0:t.English)&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("tbody",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"text-nowrap",children:"info"}),Object(D.jsx)("td",{className:"text-nowrap",children:"English"})]})}),null===ne||void 0===ne?void 0:ne.map((function(e){return Object(D.jsx)("tbody",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"text-nowrap",children:null===e||void 0===e?void 0:e.question_number}),Object(D.jsx)("td",{className:"text-nowrap",children:Object(D.jsx)(g.a,{pill:!0,color:e&&"1"===e.flag?"light-primary":"light-secondary",className:"me-1",children:e&&1==e.flag?"Yes":"No"})})]})},e._id)}))]}),(null===T||void 0===T||null===(n=T.subjectsCount)||void 0===n?void 0:n.Maths)&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("tbody",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"text-nowrap",children:"info"}),Object(D.jsx)("td",{className:"text-nowrap",children:"Maths"})]})}),null===ce||void 0===ce?void 0:ce.map((function(e){return Object(D.jsx)("tbody",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"text-nowrap",children:null===e||void 0===e?void 0:e.question_number}),Object(D.jsx)("td",{className:"text-nowrap",children:Object(D.jsx)(g.a,{pill:!0,color:e&&"1"===e.flag?"light-primary":"light-secondary",className:"me-1",children:e&&1==e.flag?"Yes":"No"})})]})},e._id)}))]}),(null===T||void 0===T||null===(q=T.subjectsCount)||void 0===q?void 0:q.Reading)&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("tbody",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"text-nowrap",children:"info"}),Object(D.jsx)("td",{className:"text-nowrap",children:"Reading"})]})}),null===se||void 0===se?void 0:se.map((function(e){return Object(D.jsx)("tbody",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"text-nowrap",children:null===e||void 0===e?void 0:e.question_number}),Object(D.jsx)("td",{className:"text-nowrap",children:Object(D.jsx)(g.a,{pill:!0,color:e&&"1"===e.flag?"light-primary":"light-secondary",className:"me-1",children:e&&1==e.flag?"Yes":"No"})})]})},e._id)}))]}),(null===T||void 0===T||null===(C=T.subjectsCount)||void 0===C?void 0:C.Science)&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("tbody",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"text-nowrap",children:"info"}),Object(D.jsx)("td",{className:"text-nowrap",children:"Science"})]})}),null===ie||void 0===ie?void 0:ie.map((function(e){return Object(D.jsx)("tbody",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"text-nowrap",children:null===e||void 0===e?void 0:e.question_number}),Object(D.jsx)("td",{className:"text-nowrap",children:Object(D.jsx)(g.a,{pill:!0,color:e&&"1"===e.flag?"light-primary":"light-secondary",className:"me-1",children:e&&1==e.flag?"Yes":"No"})})]})},e._id)}))]})]})}),Object(D.jsx)(p.a,{children:Object(D.jsx)(f.a,{color:"danger",onClick:te,outline:!0,children:"Cancel"})})]})]}),Object(D.jsx)(m.a,{children:Object(D.jsxs)(f.a.Ripple,{outline:!0,className:"round",color:"secondary text-white",size:"sm",onClick:function(e){if(e.preventDefault(),0===F){K(Object(y.k)());var t="question_number=".concat(1,"&subject_name=",Y);K(Object(y.c)(t))}if(F>=1){K(Object(y.k)());var n="question_number=".concat(Q.question_number+1,"&subject_name=").concat(Q.subject_name);K(Object(y.c)(n))}},children:[Object(D.jsx)("span",{className:"align-middle ms-25",children:"Next"}),Object(D.jsx)(o.a,{size:16})]})})]}),Object(D.jsxs)(b.a,{horizontal:!0,children:[Object(D.jsx)(m.a,{children:"Manage Assesments"}),Object(D.jsx)(m.a,{onClick:function(){re()},children:"End Section"}),Object(D.jsx)(m.a,{onClick:function(e){e.preventDefault(),K(Object(y.a)({questionnaire_id:Q._id}));var t="question_number=".concat(Q.question_number,"&subject_name=").concat(Q.subject_name);K(Object(y.c)(t))},children:"Flag"}),Object(D.jsx)(m.a,{children:Object(D.jsxs)(_.a,{className:"zoom-btngroup",children:[Object(D.jsxs)(f.a,{onClick:function(){return E()},id:"zoom-in-btn",children:[Object(D.jsx)(l.a,{size:16}),Object(D.jsx)(w.a,{placement:"bottom",target:"zoom-in-btn",children:"Zoom In"})]}),Object(D.jsxs)(f.a,{onClick:function(){return k()},id:"reset-btn",children:[Object(D.jsx)(u.a,{size:16}),Object(D.jsx)(w.a,{placement:"bottom",target:"reset-btn",children:"Reset"})]}),Object(D.jsxs)(f.a,{onClick:function(){return z()},id:"zoom-out-btn",children:[Object(D.jsx)(d.a,{size:16}),Object(D.jsx)(w.a,{placement:"bottom",target:"zoom-out-btn",children:"Zoom Out"})]})]})}),Object(D.jsx)(m.a,{onClick:oe,children:"End Session"}),Object(D.jsx)(m.a,{children:Object(D.jsxs)(f.a,{className:"timer-btn",children:[Object(D.jsx)(j.a,{size:16}),Object(D.jsx)(M,{targetDate:G})]})})]})]})})},B=n(367),T=n(366),F=n(369),A=n(952),Q=n(398),Y=n(399),L=n.n(Y);var P=function(e){var t,n=e.fontSize,s=Object(N.b)(),a=Object(N.c)((function(e){return e.instructions})).instructionsData,r=Object(N.c)((function(e){return e.exam})),o=r.currentSelectedSubject,l=r.currentSelectedQuestion,u=r.questionByID,d=r.examData,j=r.localiazedQuestions,b=Object(i.useState)(""),m=Object(c.a)(b,2),f=m[0],O=m[1],h=null===u||void 0===u?void 0:u.options[0],v=Object(i.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.findAllInstruction)||void 0===e?void 0:e.filter((function(e){return e.subject_name===o}))}),[a,o]);return Object(i.useEffect)((function(){var e,t=null===j||void 0===j||null===(e=j.filter((function(e){return e.questionnaire_id===(null===u||void 0===u?void 0:u._id)}))[0])||void 0===e?void 0:e.submited_ans;O(t)}),[j,u]),Object(i.useEffect)((function(){if(null===localStorage.getItem("QuestionsList")&&null!==d&&void 0!==d&&d.questionnaire){var e,t=[];null===d||void 0===d||null===(e=d.questionnaire)||void 0===e||e.forEach((function(e){return t.push({subject_id:e.subject_id,questionnaire_id:e._id,submited_ans:"",submited_answered:""})})),setTimeout((function(){return s(Object(y.q)(t))}),300)}}),[d,s]),Object(D.jsx)("div",{className:"main-test",children:Object(D.jsxs)(B.a,{children:[Object(D.jsx)(T.a,{lg:"6",md:"6",className:"main-test-col",children:0===l?(null===v||void 0===v?void 0:v.length)>0&&(null===v||void 0===v?void 0:v.map((function(e){return Object(D.jsx)("div",{className:"question-list",style:{fontSize:"".concat(n,"px")},children:null===e||void 0===e?void 0:e.description},e._id)}))):Object(D.jsx)(F.a,{style:{fontSize:"".concat(n,"px"),pointerEvents:"none"},className:"mt-1",children:Object(D.jsx)(Q.CKEditor,{config:{removePlugins:["Title","toolbar"],toolbar:[]},editor:L.a,data:null===u||void 0===u?void 0:u.question})})}),Object(D.jsx)(T.a,{lg:"6",md:"6",className:"answer-list-col",children:0!==l&&Object(D.jsx)("div",{className:"answer-list",children:h&&(null===(t=Object.entries(h))||void 0===t?void 0:t.map((function(e){var t=Object(c.a)(e,2),i=t[0],a=t[1];return Object(D.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(D.jsx)(A.a,{type:"radio",id:"option".concat(i),name:"is_type",block:!0,className:"d-flex pl-3 mt-1",defaultValue:a,onChange:function(){return function(e,t){O(t),s(Object(y.i)({key:e,value:t})),s(Object(y.h)(u._id))}(i,a)},checked:a==f}),Object(D.jsx)(F.a,{style:{fontSize:"".concat(n,"px"),pointerEvents:"none"},className:"mt-1",children:Object(D.jsx)(Q.CKEditor,{config:{removePlugins:["Title","toolbar"],toolbar:[]},editor:L.a,data:a})})]},i)})))})})]})})},V=n(529),J=n(929),K=n(930),U=n(931);var Z=function(){var e,t,n,c,s=Object(N.b)(),a=(window.location.search.split("=")[window.location.search.split("=").length-1],Object(N.c)((function(e){return e.exam}))),r=a.examData,o=a.currentSelectedQuestion,l=a.currentSelectedSubject,u=a.currentActiveSection,d=Object(i.useMemo)((function(){var e;return null===r||void 0===r||null===(e=r.questionnaire)||void 0===e?void 0:e.filter((function(e){return"English"===e.subject_name}))}),[r]),j=Object(i.useMemo)((function(){var e;return null===r||void 0===r||null===(e=r.questionnaire)||void 0===e?void 0:e.filter((function(e){return"Maths"===e.subject_name}))}),[r]),b=Object(i.useMemo)((function(){var e;return null===r||void 0===r||null===(e=r.questionnaire)||void 0===e?void 0:e.filter((function(e){return"Science"===e.subject_name}))}),[r]),m=Object(i.useMemo)((function(){var e;return null===r||void 0===r||null===(e=r.questionnaire)||void 0===e?void 0:e.filter((function(e){return"Reading"===e.subject_name}))}),[r]),f=function(e,t){e.preventDefault(),s(Object(y.j)(t.question_number)),s(Object(y.m)(t.subject_name)),s(Object(y.g)(t._id))},O=function(e,t){e.preventDefault(),s(Object(y.j)(0)),s(Object(y.m)(t.subject_name))};return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(J.a,{"aria-label":"Page navigation example",className:"test-pagination",size:"sm",children:[Object(D.jsx)(K.a,{children:Object(D.jsx)(U.a,{first:!0,href:"#"})}),Object(D.jsx)(D.Fragment,{children:(null===r||void 0===r||null===(e=r.subjectsCount)||void 0===e?void 0:e.English)&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K.a,{disabled:"English"!==u,active:0===o&&"English"===l&&"English"===u,children:Object(D.jsx)(U.a,{href:"#",onClick:function(e){return O(e,{subject_name:"English"})},children:"English Section Info"})}),null===d||void 0===d?void 0:d.map((function(e){return Object(D.jsxs)(K.a,{disabled:"English"!==u,active:e.question_number===o&&"English"===l,className:"flag-active",children:["1"===(null===e||void 0===e?void 0:e.flag)&&Object(D.jsx)(V.a,{size:16}),Object(D.jsx)(U.a,{href:"#",onClick:function(t){return f(t,e)},children:e.question_number})]},e._id)}))]})}),(null===r||void 0===r||null===(t=r.subjectsCount)||void 0===t?void 0:t.Maths)&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K.a,{disabled:"Maths"!==u,active:0===o&&"Maths"===l&&"Maths"===u,children:Object(D.jsx)(U.a,{href:"#",onClick:function(e){return O(e,{subject_name:"Maths"})},children:"Maths Section Info"})}),null===j||void 0===j?void 0:j.map((function(e){return Object(D.jsxs)(K.a,{disabled:"Maths"!==u,active:e.question_number===o&&"Maths"===l,className:"flag-active",children:["1"===(null===e||void 0===e?void 0:e.flag)&&Object(D.jsx)(V.a,{size:16}),Object(D.jsx)(U.a,{href:"#",onClick:function(t){return f(t,e)},children:e.question_number})]},e._id)}))]}),Object(D.jsx)(K.a,{disabled:"Break-15min"!==u,active:0===o&&"Break-15min"===l&&"Break-15min"===u,children:Object(D.jsx)(U.a,{href:"#",onClick:function(e){return O(e,{subject_name:"Break-15min"})},children:"Break 15 Min"})}),(null===r||void 0===r||null===(n=r.subjectsCount)||void 0===n?void 0:n.Reading)&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K.a,{disabled:"Reading"!==u,active:0===o&&"Reading"===l&&"Reading"===u,children:Object(D.jsx)(U.a,{href:"#",onClick:function(e){return O(e,{subject_name:"Reading"})},children:"Reading Section Info"})}),null===m||void 0===m?void 0:m.map((function(e){return Object(D.jsxs)(K.a,{disabled:"Reading"!==u,active:e.question_number===o&&"Reading"===l,className:"flag-active",children:["1"===(null===e||void 0===e?void 0:e.flag)&&Object(D.jsx)(V.a,{size:16}),Object(D.jsx)(U.a,{href:"#",onClick:function(t){return f(t,e)},children:e.question_number})]},e._id)}))]}),(null===r||void 0===r||null===(c=r.subjectsCount)||void 0===c?void 0:c.Science)&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K.a,{disabled:"Science"!==u,active:0===o&&"Science"===l&&"Science"===u,children:Object(D.jsx)(U.a,{href:"#",onClick:function(e){return O(e,{subject_name:"Science"})},children:"Science Section Info"})}),null===b||void 0===b?void 0:b.map((function(e){return Object(D.jsxs)(K.a,{disabled:"Science"!==u,active:e.question_number===o&&"Science"===l,className:"flag-active",children:["1"===(null===e||void 0===e?void 0:e.flag)&&Object(D.jsx)(V.a,{size:16}),Object(D.jsx)(U.a,{href:"#",onClick:function(t){return f(t,e)},children:e.question_number})]},e._id)}))]}),Object(D.jsx)(K.a,{children:Object(D.jsx)(U.a,{href:"#",last:!0})})]})})},G=n(100);t.default=function(e){e.isRowVisible;var t=Object(N.c)((function(e){return e.exam})).flaggedQuestion,n=Object(N.b)(),s=Object(i.useState)({question_number:"",subject_name:""}),a=Object(c.a)(s,2),r=a[0],o=(a[1],Object(i.useState)("question_number=".concat(r.question_number,"&subject_name=").concat(r.subject_name))),l=Object(c.a)(o,2),u=l[0],d=l[1],j=Object(i.useState)(14),b=Object(c.a)(j,2),m=b[0],f=b[1];Object(i.useEffect)((function(){!function(e){var t=Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");d(t)}(r)}),[r]),Object(i.useEffect)((function(){n(Object(G.d)())}),[n]),Object(i.useEffect)((function(){n(Object(y.b)(u))}),[n,u,t]),Object(i.useEffect)((function(){return window.addEventListener("beforeunload",O),function(){n(Object(y.p)()),window.removeEventListener("beforeunload",O)}}),[]);var O=function(e){e.preventDefault();var t="Are you sure you want to leave? All provided data will be lost.";return e.returnValue=t,t};return Object(D.jsxs)("div",{className:"main-test-sec",children:[Object(D.jsx)(I,{fontInc:function(){m<28&&f((function(e){return e+4}))},fontDec:function(){m>10&&f((function(e){return e-4}))},fontReset:function(){f(14)}}),Object(D.jsx)(P,{fontSize:m}),Object(D.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=53.d24f6a6f.chunk.js.map